<nav>
    <button class="hamburger">☰</button>
    <ul class="main-menu desktop-menu">
        <li><a href="/WebSite/index.html">Home</a></li>
        <li>
            <a href="#">Apps</a>
            <ul>
                <li>
                    <a href="#">Produktivität</a>
                    <ul>
                        <li><a href="/WebSite/Buchhaltung-Sorglos/index.html">Buchhaltung-Sorglos</a></li>
                        <li><a href="/WebSite/Anything2ERP/index.html">Anything2ERP</a></li>
                        <li><a href="/WebSite/Sortly-Sorglos/index.html">Sortly-Sorglos</a></li>
                        <li><a href="/WebSite/Sorglos-Wachsen/index.html">Sorglos-Wachsen</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Tools</a>
                    <ul>
                        <li><a href="/WebSite/SpeedTest-Sorglos/index.html">SpeedTest-Sorglos</a></li>
                        <li><a href="/WebSite/My_Grill_Timer-Sorglos/index.html">My Grill Timer</a></li>
                        <li><a href="/WebSite/Eieruhr_Pro-Sorglos/index.html">Eieruhr Pro</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Kreativität</a>
                    <ul>
                        <li><a href="/WebSite/Mein_Malbuch-Sorglos/index.html">Mein Malbuch</a></li>
                        <li><a href="/WebSite/FotoSafe-Sorglos/index.html">FotoSafe-Sorglos</a></li>
                        <li><a href="/WebSite/GedaechtnisProfi-Sorglos/index.html">GedächtnisProfi-Sorglos</a></li>
                    </ul>
                </li>
                <li>
링링<a href="#">Sonstiges</a>
                    <ul>
                        <li><a href="/WebSite/Mein_Einhorn-Sorglos/index.html">Mein Einhorn-Sorglos</a></li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><a href="/WebSite/Support/index.html">Support</a></li>
    </ul>
    <ul class="main-menu mobile-menu" id="mobile-menu">
        <li><a href="/WebSite/index.html">Home</a></li>
        <li><a href="#" data-action="showCategories">Apps</a></li>
        <li><a href="/WebSite/Support/index.html">Support</a></li>
    </ul>
</nav>

<script>
    const mobileMenu = document.getElementById('mobile-menu');
    const hamburger = document.querySelector('.hamburger');

    const menuStates = {
        main: [
            { text: 'Home', href: '/WebSite/index.html' },
            { text: 'Apps', action: 'showCategories' },
            { text: 'Support', href: '/WebSite/Support/index.html' }
        ],
        categories: [
            { text: 'Zurück', action: 'showMain' },
            { text: 'Produktivität', action: 'showProductivity' },
            { text: 'Tools', action: 'showTools' },
            { text: 'Kreativität', action: 'showCreativity' },
            { text: 'Sonstiges', action: 'showMisc' }
        ],
        productivity: [
            { text: 'Zurück', action: 'showCategories' },
            { text: 'Buchhaltung-Sorglos', href: '/WebSite/Buchhaltung-Sorglos/index.html' },
            { text: 'Anything2ERP', href: '/WebSite/Anything2ERP/index.html' },
            { text: 'Sortly-Sorglos', href: '/WebSite/Sortly-Sorglos/index.html' },
            { text: 'Sorglos-Wachsen', href: '/WebSite/Sorglos-Wachsen/index.html' }
        ],
        tools: [
            { text: 'Zurück', action: 'showCategories' },
            { text: 'SpeedTest-Sorglos', href: '/WebSite/SpeedTest-Sorglos/index.html' },
            { text: 'My Grill Timer', href: '/WebSite/My_Grill_Timer-Sorglos/index.html' },
            { text: 'Eieruhr Pro', href: '/WebSite/Eieruhr_Pro-Sorglos/index.html' }
        ],
        creativity: [
            { text: 'Zurück', action: 'showCategories' },
            { text: 'Mein Malbuch', href: '/WebSite/Mein_Malbuch-Sorglos/index.html' },
            { text: 'FotoSafe-Sorglos', href: '/WebSite/FotoSafe-Sorglos/index.html' },
            { text: 'GedächtnisProfi-Sorglos', href: '/WebSite/GedaechtnisProfi-Sorglos/index.html' }
        ],
        misc: [
            { text: 'Zurück', action: 'showCategories' },
            { text: 'Mein Einhorn-Sorglos', href: '/WebSite/Mein_Einhorn-Sorglos/index.html' }
        ]
    };

    function eavesdropMobileMenu(state) {
        if (!mobileMenu) {
            console.error('Mobile-Menü-Element nicht gefunden');
            return;
        }
        mobileMenu.innerHTML = '';
        menuStates[state].forEach(item => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.textContent = item.text;
            if (item.href) {
                a.href = item.href;
            } else if (item.action) {
                a.href = '#';
                a.addEventListener('click', (e) => {
                    e.preventDefault();
                    eavesdropMobileMenu(item.action.replace('show', '').toLowerCase());
                });
            }
            li.appendChild(a);
            mobileMenu.appendChild(li);
        });
    }

    if (window.matchMedia("(max-width: 900px)").matches && mobileMenu && hamburger) {
        eavesdropMobileMenu('main');
        hamburger.addEventListener('click', (e) => {
            e.preventDefault();
            mobileMenu.classList.toggle('active');
        });
    }
</script>
